# ShorinNiriExperience
æœ¬æ–‡æ˜¯æˆ‘çš„Niriå­¦ä¹ å’Œä½¿ç”¨ç»å†ã€‚

# ä»€ä¹ˆæ˜¯Niriï¼Ÿ

Niriæ˜¯ç”¨Rustè¯­è¨€ç¼–å†™çš„Waylandåˆæˆå™¨ï¼Œå†…å­˜å ç”¨ä»…100MBå‡ºå¤´ã€‚

å…ˆè¯´ä¼ ç»Ÿæ¡Œé¢çš„ç‰¹ç‚¹ã€‚ä¸è®ºæ˜¯winã€macã€kdeã€gnomeã€hyprlandã€swayï¼Œå®ƒä»¬çš„å·¥ä½œåŒºéƒ½åªæœ‰ä¸€ä¸ªå±å¹•çš„å¤§å°ï¼Œæ–°å¼€çš„çª—å£ä¼šæŒ¤å å…¶ä»–çª—å£çš„ç©ºé—´ï¼Œå¦‚æœä¸€ä¸ªå±å¹•æ”¾ä¸ä¸‹å°±åªèƒ½åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå·¥ä½œåŒºã€‚

è€ŒNiriçš„å·¥ä½œåŒºå¯ä»¥æ¨ªå‘æ— é™å»¶ä¼¸ï¼Œåƒæ˜¯ä¸€ä¸ªæ— é™é•¿çš„â€œå·è½´â€ï¼Œæ–°çª—å£ä¸ä¼šæŒ¤å å…¶ä»–çª—å£çš„ç©ºé—´ã€‚æ— é™å·è½´å¼å¹³é“ºå†ç»“åˆå‚ç›´å·¥ä½œåŒºåˆ‡æ¢å’ŒåŠ¨æ€å·¥ä½œåŒºæ•°é‡å¢å‡ï¼Œæˆ‘ä¸å¾—ä¸ç”¨æƒŠè‰³æ¥å½¢å®¹å®ƒå¸¦ç»™æˆ‘çš„æ¡Œé¢ä½“éªŒã€‚æ¡Œé¢ç¯å¢ƒä»ä¸Šä¸–çºªå¼€å§‹ç°åœ¨éƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œè€Œç°åœ¨æˆ‘è®¤ä¸ºNiriæ˜¯å¯ä»¥å®Œå…¨å–ä»£ä¼ ç»Ÿæ¡Œé¢å½¢å¼çš„â€œNEW TYPEâ€ã€‚Niriçš„é»˜è®¤å¿«æ·é”®ä¹Ÿç›¸å½“è‡ªç„¶ï¼Œä»é»˜è®¤super+Tæ‰“å¼€ç»ˆç«¯å°±å¯ä»¥çœ‹å‡ºå¼€å‘è€…ç›¸å½“æœ‰å“ã€‚

ä¸¾ä¸€ä¸ªæœ€ç®€å•çš„åº”ç”¨åœºæ™¯ï¼Œå‡è®¾æˆ‘å…¨å±è¿è¡Œä¸€ä¸ªæ¸¸æˆã€‚å¦‚æœæˆ‘æƒ³åˆ‡å‡ºå»èŠå¤©æˆ–è€…æœä¸ªæ”»ç•¥ï¼Œåœ¨ä¼ ç»Ÿæ¡Œé¢ä¸‹æˆ‘é€šå¸¸æ˜¯alt+tabåˆ‡æ¢åˆ°åˆ«çš„åº”ç”¨ï¼Œç„¶ååˆ«çš„åº”ç”¨ä¼šè¦†ç›–æ¸¸æˆçš„çª—å£ï¼Œå¤§å¤šæ•°å…¨å±æ¸¸æˆåˆ‡å‡ºå»çš„æ—¶å€™è¿˜ä¼šé—ªå±ï¼Œç”šè‡³å‡ºç°åˆ‡ä¸å›å»çš„æƒ…å†µã€‚ä½†æ˜¯åœ¨Niriä¸Šæˆ‘çš„å·¥ä½œåŒºæ˜¯æ— é™å¤§çš„ï¼Œæˆ‘å¯ä»¥å¼€å¯ä¸€ä¸ªå…¨å±çš„æ¸¸æˆï¼Œç„¶ååœ¨å³è¾¹å¼€å¯ä¸€ä¸ªåŠå±å¤§å°çš„æµè§ˆå™¨ï¼Œå†åœ¨æµè§ˆå™¨çš„å³è¾¹åŠä¸ªå±å¹•çš„ç©ºé—´é‡Œä¸ŠåŠéƒ¨åˆ†æ”¾qqä¸‹åŠéƒ¨åˆ†æ”¾å¾®ä¿¡ã€‚å½“æˆ‘æƒ³ä»æ¸¸æˆåˆ‡åˆ°æµè§ˆå™¨çš„æ—¶å€™æˆ‘åªéœ€è¦å‘å³æ»šåŠ¨åŠä¸ªå±å¹•ï¼Œæ­¤æ—¶å·¦åŠè¾¹å±å¹•æ˜¯ä»ç„¶åœ¨å…¨å±è¿è¡Œä½†æˆ‘åªèƒ½çœ‹åˆ°å³åŠéƒ¨åˆ†çš„æ¸¸æˆï¼Œå³åŠè¾¹å±å¹•æ˜¯æµè§ˆå™¨ï¼Œå¦‚æœæˆ‘æƒ³èŠå¤©å°±å†å¾€å³æ»šåŠ¨åŠä¸ªå±å¹•ã€‚è¿™ç§ä½“éªŒæ¯”alt+tabåˆ‡æ¢æ–°çª—å£è¦†ç›–æ—§çª—å£çš„æ¨¡å¼ç¨³å®šä¸”ä¼˜é›…å¾—å¤šã€‚

Niriå®˜æ–¹repoçš„demoè§†é¢‘ç”¨å‡ åˆ†é’Ÿç®€å•åœ°æ¼”ç¤ºäº†Niriçš„ç‰¹æ€§ï¼Œç»å¯¹å€¼å¾—ä¸€çœ‹ï¼š[Niriæ¼”ç¤ºè§†é¢‘](https://github.com/YaLTeR/niri)

ğŸš§æ–½å·¥ä¸­â€¦â€¦â€¦â€¦â€¦â€¦

# å®‰è£…

åˆå­¦è€…å¯ä»¥[æŒ‰ç…§è¿™ä¸ªæ•™ç¨‹](https://github.com/shorinkiwata/ArchlinuxInstallationGuide-ShorinArchExperience)å®‰è£…KDE Plasmaæˆ–è€…GNOMEï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®‰è£…Niri

```
sudo pacman -S niri xwayland-satellite fuzzel alacritty swaylock brightnessctl 
```

``niri``æ˜¯æœ¬ä½“ï¼Œ``xwayland-satellite``å¼€å¯niriçš„xwaylandã€‚``fuzzel``æ˜¯nirié»˜è®¤çš„åº”ç”¨å¯åŠ¨å™¨ï¼Œ``alacritty``æ˜¯nirié»˜è®¤çš„ç»ˆç«¯ä»¿çœŸå™¨ï¼Œ`swaylock`æ˜¯é»˜è®¤çš„é”å±è½¯ä»¶ã€‚è¿™äº›å…ˆè£…ç€ï¼Œæƒ³æ¢éšæ—¶èƒ½æ¢ã€‚`brightnessctl`è°ƒèŠ‚å±å¹•äº®åº¦ã€‚

ç™»å‡ºååœ¨ç™»å½•ç•Œé¢é€‰æ‹©niriä¼šè¯åç™»å½•ã€‚super+shift+/æ‰“å¼€é‡è¦å¿«æ·é”®æ•™ç¨‹ï¼Œsuper+tæ‰“å¼€ç»ˆç«¯ï¼Œsuper+dæ‰“å¼€åº”ç”¨å¯åŠ¨å™¨ï¼Œsuper+u/iä¸Šä¸‹åˆ‡æ¢å·¥ä½œåŒºã€‚çŸ¥é“è¿™äº›å°±å¯ä»¥å¼€å§‹ä½¿ç”¨niriå•¦ã€‚

## systemd

### é€šçŸ¥ç¨‹åº

```
sudo pacman -S mako
```

```
systemctl --user add-wants niri.service mako.service
```

### é¢æ¿

```
sudo pacman -S waybar
```

```
systemctl --user add-wants niri.service waybar.service
```

### å£çº¸

```
sudo pacman -S swaybg
```

```
vim ~/.config/systemd/user/swaybg.service
```

```
[Unit]
PartOf=graphical-session.target
After=graphical-session.target
Requisite=graphical-session.target

[Service]
ExecStart=/usr/bin/swaybg -m fill -i "/home/shorin/Pictures/wallpaper/wallhaven-2ymp5g.png"
Restart=on-failure
```

è®°å¾—æ›´æ¢å£çº¸è·¯å¾„

```
systemctl --user daemon-reload
```

```
systemctl --user add-wants niri.service swaybg.service
```

### ååˆ†é’Ÿæ— æ“ä½œè‡ªåŠ¨é”å±ã€å…³é—­å±å¹•

```
sudo pacman -S swayidle
```

```
vim ~/.config/systemd/user/swayidle.service
```

```
[Unit]
PartOf=graphical-session.target
After=graphical-session.target
Requisite=graphical-session.target

[Service]
ExecStart=/usr/bin/swayidle -w timeout 601 'niri msg action power-off-monitors' timeout 600 'swaylock -f' before-sleep 'swaylock -f'
Restart=on-failure
```

```
systemctl --user daemon-reload
```

```
systemctl --user add-wants niri.service swayidle.service
```

è¦é‡å¯ä¼šè¯æ‰èƒ½ç”Ÿæ•ˆã€‚

å¦‚æœä¸éœ€è¦è¿™äº›æœåŠ¡å’ŒniriåŒæ—¶å¯åŠ¨å°±åˆ é™¤`~/.config/systemd/user/niri.service.wants/`é‡Œçš„é“¾æ¥ï¼Œç„¶å`systemctl --user daemon-reload`

## polkit

```
sudo pacman -S polkit-gnome
```

é…ç½®æ–‡ä»¶é‡Œæ·»åŠ 

```
spawn-at-startup "/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1"
```

é‡å¯ä¼šè¯


# é…ç½®

[è¯¦ç»†çš„é…ç½®æ–¹æ³•çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œåªå†™äº†æˆ‘ç”¨åˆ°çš„é…ç½®](https://github.com/YaLTeR/niri/wiki)

niriçš„é…ç½®æ–‡ä»¶åœ¨``~/.config/niri/config.kdl``

``//``åŒå·¦æ–œæ ä»£è¡¨å†…å®¹è¢«æ³¨é‡Šï¼Œ``/-``ä»£è¡¨ä»£ç å—è¢«æ³¨é‡Šã€‚

```shell
vim ~/.config/niri/config.kdl
```

## ä¿®æ”¹é»˜è®¤ç»ˆç«¯

é¦–å…ˆè¦ä¿®æ”¹é»˜è®¤ç»ˆç«¯ï¼Œnirié»˜è®¤ä½¿ç”¨alacrittyï¼Œå¯ä»¥æ¢æˆè‡ªå·±å–œæ¬¢çš„ã€‚

æœç´¢``terminal``ï¼›

æŠŠ``Mod+T hotkey-overlay-title="Open a Terminal: alacritty" { spawn "alacritty"; }``é‡Œçš„``alacritty``æ”¹æˆè‡ªå·±ä½¿ç”¨çš„ç»ˆç«¯ã€‚æ¯”å¦‚æˆ‘æ˜¯KDEï¼Œç»ˆç«¯æ˜¯konsoleï¼Œé‚£å°±æ”¹æˆ

```rust
Mod+T hotkey-overlay-title="Open a Terminal: konsole" { spawn "konsole"; }
```

Mod+Tè®¾ç½®super+Té”®æ‰“å¼€ç»ˆç«¯ï¼›``hotkey-overlay-title="Open a Terminal: alacritty"``è¿™ä¸€æ®µæ˜¯åœ¨è®¾ç½®super+shift+/æ‰“å¼€çš„ç•Œé¢é‡Œçš„æ˜¾ç¤ºå†…å®¹ã€‚

## ä¿®æ”¹æ˜¾ç¤ºå™¨é…ç½®

[niri_wiki_outputs](https://github.com/YaLTeR/niri/wiki/Configuration:-Outputs)

1. è¿è¡Œå‘½ä»¤è·å–æ˜¾ç¤ºå™¨ä¿¡æ¯

   ```
   niri msg outputs
   ```

   ```shell
   Output "BOE NE156QHM-NY1 Unknown" (eDP-1)
     Current mode: 2560x1440 @ 165.000 Hz (preferred)
     Variable refresh rate: supported, disabled
     Physical size: 340x190 mm
     Logical position: 0, 0
     Logical size: 1920x1080
     Scale: 1.3333333333333333
     Transform: normal
     Available modes:
       2560x1440@165.000 (current, preferred)
       2560x1440@60.000 (preferred)
   â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦
   Output "Shenzhen KTC Technology Group H27T22C 0x00000001" (DP-2)
     Current mode: 2560x1440 @ 180.000 Hz
     Variable refresh rate: supported, disabled
     Physical size: 600x330 mm
     Logical position: 1925, 0
     Logical size: 2560x1440
     Scale: 1
     Transform: normal
     Available modes:
       2560x1440@59.951 (preferred)
       2560x1440@180.000 (current)
       2560x1440@164.999
   â€¦â€¦â€¦â€¦â€¦â€¦
   ```

   ç±»ä¼¼è¿™æ ·çš„ä¸œè¥¿ï¼Œè®°ä½``eDP-1``å’Œ``DP-2``è¿™éƒ¨åˆ†ï¼Œç„¶ååœ¨``avaliable modes``é‡Œæ‰¾åˆ°è‡ªå·±éœ€è¦çš„æ¨¡å¼ï¼Œ``@``å‰é¢æ˜¯åˆ†è¾¨ç‡åé¢æ˜¯åˆ·æ–°ç‡ã€‚

2. é…ç½®æ–‡ä»¶å†…ä¿®æ”¹``output{}``

   åœ¨``output{}``çš„ç¤ºä¾‹é…ç½®ä¸‹é¢è‡ªå·±å†™ä¸€ä¸ª

   ```rust
   output "eDP-1"{
   	//åˆ†è¾¨ç‡å’Œåˆ·æ–°ç‡
   	mode "2560x1440@165"
   	//ç¼©æ”¾å€ç‡
   	scale 1.33
   	//ä½ç½®ï¼Œx=0 y=0ä»£è¡¨æœ€å·¦ä¸Šè§’
   	position x=0 y=0
   	//å¯åŠ¨æ—¶èšç„¦æ­¤æ˜¾ç¤ºå™¨
   	focus-at-startup
   	//å–æ¶ˆä¸‹é¢è¿™è¡Œçš„æ³¨é‡Šè®¾ç½®å¯å˜åˆ·æ–°ç‡
   	//variable-refresh-rate 
   	//å–æ¶ˆä¸‹é¢è¿™è¡Œçš„æ³¨é‡Šå¯ä»¥è®¾ç½®æ—‹è½¬ï¼Œå‚æ•°æœ‰ï¼š90, 180, 270, flippedï¼ˆæ°´å¹³ç¿»è½¬ï¼‰, flipped-90ï¼ˆæ°´å¹³ç¿»è½¬åæ—‹è½¬ï¼‰, flipped-180 and flipped-270
   	//transform "90"
   
   }
   ```

   æœ‰å¤šä¸ªæ˜¾ç¤ºå™¨çš„è¯å°±å†å†™ä¸€ä¸ª``output{}``ï¼Œéœ€è¦è®¡ç®—ä¸€ä¸‹ä½ç½®ã€‚æˆ‘çš„eDP-1æ˜¾ç¤ºå™¨ä½ç½®æ˜¯``x=0 y=0``åœ¨æœ€å·¦ä¸Šè§’ï¼Œæˆ‘æƒ³æŠŠDP-1æ˜¾ç¤ºå™¨æ”¾åœ¨å®ƒçš„å³è¾¹ï¼Œé‚£å°±è¦æ›´æ”¹``x=0``çš„å€¼ã€‚eDP-1æ˜¯2560x1440åˆ†è¾¨ç‡ï¼Œ1.33ç¼©æ”¾ï¼Œé‚£æ¨ªå‘å°±æ˜¯2560/1.33=1924.81203008ï¼Œçº¦ç­‰äº1925ã€‚é‚£æˆ‘DP-1çš„ä½ç½®å°±æ˜¯``x=1925 y=0``ã€‚å…¶ä»–ä½ç½®ä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªæ–¹æ³•è®¡ç®—ã€‚

   ```rust
   output "DP-2"{
   	mode "2560x1440@180"
   	scale 1
   	position x=1925 y=0
   }
   ```

## çª—å£åœ†è§’å’Œé€æ˜åº¦

æ‰¾åˆ°è¿™ä¸€æ®µwindow-ruleå–æ¶ˆæ³¨é‡Šï¼ˆå°±æ˜¯é‚£ä¸ª``/-``ç¬¦å·ï¼‰æˆ–è€…è‡ªå·±å†™å…¥ã€‚

```rust
window-rule {
    geometry-corner-radius 14
    clip-to-geometry true
    opacity 0.95
}
```

``geometry-corner-radius 14``è®¾ç½®åœ†è§’çš„åƒç´ åŠå¾„ï¼›``clip-to-geometry true``è®¾ç½®è£å‰ªè¶…å‡ºåœ†è§’çš„éƒ¨åˆ†ã€‚opacity 0.95è®¾ç½®å…¨å±€çª—å£é€æ˜åº¦ã€‚

## é¼ æ ‡é€Ÿåº¦

[niri_wiki_input](https://github.com/YaLTeR/niri/wiki/Configuration:-Input)

æ‰¾åˆ°``input{mouse{}}``

```rust
mouse {
    //å–æ¶ˆä¸‹é¢è¿™è¡Œæ³¨é‡Šä¿®æ”¹é¼ æ ‡é€Ÿåº¦ï¼Œæ­£æ•°åŠ å¿«ï¼Œè´Ÿæ•°å‡æ…¢
    //accel-speed -0.2
    //é¼ æ ‡åŠ é€Ÿæ˜¯é»˜è®¤å¼€å¯çš„ï¼Œè®¾ç½®è¿™ä¸€è¡Œå¯ä»¥å…³é—­é¼ æ ‡åŠ é€Ÿåº¦
    accel-profile "flat"
    //æ»šè½®æ»šåŠ¨é€Ÿåº¦
    //scroll-factor horizontal=2.0 vertical=-1.0 
}
```

## æ ¹æ®é¼ æ ‡è‡ªåŠ¨èšç„¦çª—å£

[niri_wiki_input](https://github.com/YaLTeR/niri/wiki/Configuration:-Input)

```rust
input{
    //è®¾ç½®é¼ æ ‡ç§»åŠ¨åˆ°æ–°èšç„¦çš„çª—å£
    warp-mouse-to-focus
	//èšç„¦é¼ æ ‡ç§»åŠ¨åˆ°çš„çª—å£ä¸Šï¼›max-scroll-amount="50%"è®¾ç½®å¦‚æœèšç„¦ä¸€ä¸ªçª—å£ä¼šè®©å±å¹•æ»šåŠ¨è¶…è¿‡10%å°±ä¸èšç„¦ï¼Œé»˜è®¤æ˜¯0%ï¼Œæ„å‘³ç€èšç„¦æ–°çª—å£ä¼šè®©å±å¹•æ»šåŠ¨å°±ä¸èšç„¦ã€‚
    focus-follows-mouse max-scroll-amount="50%"
}
```

## è‡ªå®šä¹‰æŒ‰é”®ç»‘å®š

[niri_wiki_bind](https://github.com/YaLTeR/niri/wiki/Configuration:-Key-Bindings)

åœ¨`binds{}`è®¾ç½®æŒ‰é”®ç»‘å®šï¼Œé‡Œé¢çš„å¿«æ·é”®è‡ªå·±çœ‹ä¸€ä¸‹ï¼Œå­¦ä¹ ä¸€ä¸‹æ€ä¹ˆç”¨ã€‚ä¿®é¥°é”®ï¼š`Ctrl`;`Shift`;`Alt`;`Super` ;`Mod`;ä¸Šä¸‹å·¦å³æ˜¯`Up`;`Down`;`Left`;`Right`;å·¦æ–œæ æ˜¯`Slash`;ç©ºæ ¼æ˜¯`Space`ã€‚å…·ä½“é”®åå¯ä»¥ä½¿ç”¨[wev](https://archlinux.org/packages/extra/x86_64/wev/)æŸ¥çœ‹ã€‚[è¿˜å¯ä»¥è‡ªå®šä¹‰Modé”®](https://github.com/YaLTeR/niri/wiki/Configuration:-Input#mod-key-mod-key-nested)ã€‚

ç¤ºä¾‹ï¼š

```rust
//è®¾ç½®ä¸€ä¸ªå¿«æ·é”®
Mod+T { spawn "konsole"; }
//è®¾ç½®ä¸€ä¸ªå¿«æ·é”®ï¼ŒåŒæ—¶æŠŠå®ƒæ˜¾ç¤ºåˆ°Super+Shift+/çš„å¿«æ·é”®æ•™ç¨‹é‡Œ
Mod+T hotkey-overlay-title="Open a Terminal: konsole" { spawn "konsole"; }
//ä¼ é€’é€‰é¡¹ã€‚ç¬¬ä¸€ä¸ªâ€œâ€ä»£è¡¨ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåç»­çš„æ¯ä¸€ä¸ªâ€œâ€ä»£è¡¨ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™ç§æ–¹æ³•æ— æ³•è®¾ç½®ç¯å¢ƒå˜é‡ã€‚æ¯”å¦‚wofi --show drunå°±æ˜¯ï¼š
Mod+X { spawn "wofi" "--show" "drun"}
//å¯ä»¥æŒ‡å®šshellè¿è¡Œå‘½ä»¤
Mod+X { spawn "fish" "-c" "wofi --how drun"}
//ä¹Ÿå¯ä»¥è¿™æ ·è¿è¡Œshellå‘½ä»¤
Mod+X { spwan-sh "wofi --show drun"}
```

### å¸¸ç”¨è½¯ä»¶ï¼ˆç»ˆç«¯æµè§ˆå™¨ï¼Œæ–‡æ¡£ç®¡ç†å™¨ç­‰ï¼‰

ç›´æ¥å¤åˆ¶ç²˜è´´å·²æœ‰çš„é…ç½®è¿›è¡Œä¿®æ”¹å°±è¡Œï¼Œé‡è¦ç¨‹åºå¯ä»¥åŠ ä¸Š``hotkey-overlay-title=""``è®©å®ƒæ˜¾ç¤ºåœ¨super+shift+/æ‰“å¼€çš„æ•™ç¨‹é‡Œã€‚`â€œâ€`ä»£è¡¨å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯ä»¥å†™ä¸­æ–‡

- Mod+Tæ‰“å¼€ç»ˆç«¯

  ```rust
  Mod+T hotkey-overlay-title="Open a Terminal: ghostty" { spawn "ghostty"; }
  ```

- Mod+Eæ‰“å¼€æ–‡æ¡£ç®¡ç†å™¨

  ```rust
  Mod+E hotkey-overlay-title="Open a FilesManager: dolphin" { spawn "dolphin"; }
  ```

- Mod+Bæ‰“å¼€æµè§ˆå™¨

  ```rust
  Mod+B hotkey-overlay-title="æ‰“å¼€æµè§ˆå™¨ï¼šfirefox" { spawn "firefox"; }
  ```

- Alt+ç©ºæ ¼æ‰“å¼€è½¯ä»¶å¯åŠ¨å™¨

  ```rust
  Alt+Space hotkey-overlay-title="Run an Application: fuzzel" { spawn "fuzzel"; }
  ```

### çª—å£è°ƒæ•´

```rust
Mod+Alt+F { fullscreen-window; }
```

### å¯¼èˆª

ä½¿ç”¨é”®ç›˜å¯¼èˆªçš„è¯é€šå¸¸ç”¨vimkeyï¼ˆjkhlå¯¹åº”ä¸Šä¸‹å·¦å³ï¼‰ä½œä¸ºæ–¹å‘é”®ã€‚å¦‚æœæ˜¯å·¦æ‰‹é”®ç›˜å³æ‰‹é¼ æ ‡çš„å¸ƒå±€çš„è¯ä¼šä½¿ç”¨wasdæˆ–è€…esdfï¼Œç”±äºæˆ‘æ‰“æ¸¸æˆï¼Œæ‰€ä»¥æˆ‘ç”¨wsadï¼Œè¿˜ä¼šå¢åŠ ä¸€äº›é¼ æ ‡çš„æ“ä½œã€‚

```rust
//æ–°å¢
//Mod+Gæ‰“å¼€overview
Mod+G repeat=false { toggle-overview; }
//Mod+A/Dåˆå¹¶columeç§»åŠ¨çª—å£ï¼ŒMod+Ctrl+A/Då·¦å³ç§»åŠ¨çª—å£ã€‚
Mod+A  { consume-or-expel-window-left; }
Mod+D { consume-or-expel-window-right; }
Mod+Ctrl+A  { move-column-left; }
Mod+Ctrl+D { move-column-right; }
//åŒä¸€ä¸ªcolumnä¸Šä¸‹ç§»åŠ¨çª—å£
Mod+Ctrl+S  { move-window-down; }
Mod+Ctrl+W    { move-window-up; }
//åŒä¸€ä¸ªcolumnä¸Šä¸‹åˆ‡æ¢èšç„¦ï¼Œå¦‚æœåˆ°é¡¶äº†å°±åˆ‡æ¢å·¥ä½œåŒº
Mod+S  { focus-window-or-workspace-down; }
Mod+W    { focus-window-or-workspace-up; }
//Mod+Shift+W/S/A/Dåˆ‡æ¢èšç„¦å±å¹•
Mod+Shift+A     { focus-monitor-left; }
Mod+Shift+S     { focus-monitor-down; }
Mod+Shift+W     { focus-monitor-up; }
Mod+Shift+D     { focus-monitor-right; }
//Mod+shift+Ctrl+W/A/S/Dç§»åŠ¨columeåˆ°å…¶ä»–å±å¹•
Mod+Shift+Ctrl+A     { move-column-to-monitor-left; }
Mod+Shift+Ctrl+S     { move-column-to-monitor-down; }
Mod+Shift+Ctrl+W     { move-column-to-monitor-up; }
Mod+Shift+Ctrl+D     { move-column-to-monitor-right; }
//æŠŠå³ä¾§çš„çª—å£åˆå¹¶åˆ°å½“å‰èšç„¦çš„columnä¸‹
Mod+Alt+A  { consume-window-into-column; }
//è§£é™¤åˆå¹¶å½“å‰columnæœ€ä¸‹æ–¹çš„çª—å£åˆ°å³ä¾§
Mod+Alt+D { expel-window-from-column; }
//Mod+ä¸­é”®å…³é—­çª—å£
Mod+MouseMiddle  { close-window; }
```

```rust
//æ–°å¢
//ä¸Šä¸‹å·¦å³å±å¹•æ•´ä¸ªç§»åŠ¨å·¥ä½œåŒºï¼ˆç”¨å¤„ä¸å¤§ï¼‰
Mod+Shift+Alt+W  { move-workspace-to-monitor-up; }
Mod+Shift+Alt+S  { move-workspace-to-monitor-down; }
Mod+Shift+Alt+D  { move-workspace-to-monitor-right; }
Mod+Shift+Alt+A  { move-workspace-to-monitor-left; }

Mod+Shift+Alt+K  { move-workspace-to-monitor-up; }
Mod+Shift+Alt+J  { move-workspace-to-monitor-down; }
Mod+Shift+Alt+L  { move-workspace-to-monitor-right; }
Mod+Shift+Alt+H  { move-workspace-to-monitor-left; }

Mod+Shift+Alt+Up  { move-workspace-to-monitor-up; }
Mod+Shift+Alt+Down  { move-workspace-to-monitor-down; }
Mod+Shift+Alt+Right  { move-workspace-to-monitor-right; }
Mod+Shift+Alt+Left  { move-workspace-to-monitor-left; }
```



```rust
//ä¿®æ”¹å·²æœ‰é…ç½®
//è®¾ç½®Mod+æ»šè½®ä¸Šä¸‹å·¦å³åˆ‡æ¢èšç„¦ï¼ˆé»˜è®¤æ˜¯mod+shiftï¼‰ï¼Œå†åŠ ä¸Šctrlå¯ä»¥ç§»åŠ¨çª—å£
Mod+WheelScrollDown      { focus-column-right; }
Mod+WheelScrollUp        { focus-column-left; }
Mod+Ctrl+WheelScrollDown { move-column-right; }
Mod+Ctrl+WheelScrollUp   { move-column-left; }
//è®¾ç½®Mod+Shift+æ»šè½®ä¸Šä¸‹åˆ‡æ¢å·¥ä½œåŒºï¼ˆé»˜è®¤æ˜¯Modï¼‰ï¼Œå†åŠ ä¸ŠCtrlå¯ä»¥ç§»åŠ¨çª—å£
Mod+Shift+WheelScrollDown      cooldown-ms=150 { focus-workspace-down; }
Mod+Shift+WheelScrollUp        cooldown-ms=150 { focus-workspace-up; }
Mod+Ctrl+Shift+WheelScrollDown cooldown-ms=150 { move-column-to-workspace-down; }
Mod+Ctrl+Shift+WheelScrollUp   cooldown-ms=150 { move-column-to-workspace-up; }
//è®¾ç½®columnå®½åº¦
Mod+Minus { set-column-width "-5%"; }
Mod+Equal { set-column-width "+5%"; }
//è®¾ç½®columné«˜åº¦
Mod+Shift+Minus { set-window-height "-5%"; }
Mod+Shift+Equal { set-window-height "+5%"; }
//å¼€å¯æ ‡ç­¾é¡µæ¨¡å¼çš„column
Mod+X { toggle-column-tabbed-display; }
//é€€å‡ºniri
Mod+Shift+Ctrl+E { quit; }
```

## ç¦ç”¨æŒ‰é”®æ•™ç¨‹çš„å¼€æœºè‡ªå¯

å–æ¶ˆæ³¨é‡Š`hotkey-overlay{}`é‡Œé¢çš„`skip-at-startup`

## çª—å£é—´éš”

è°ƒæ•´`layout{gaps }`

## é¢„è®¾çª—å£å®½åº¦

`layout{preset-column-widths{}}`

## èšç„¦çª—å£è¾¹æ¡†

`layout{focus-ring{}}`

## å¿«ç…§

```
sudo pacman -S snapper snap-pac btrfs-assistant grub-btrfs inotify-tools
```

```
sudo systemctl enable --now grub-btrfsd
```

- è®¾ç½®è¦†ç›–æ–‡ä»¶ç³»ç»Ÿï¼ˆoverlayfsï¼‰

  ç¼–è¾‘``/etc/mkinitcpio.conf``

  ```
  sudo vim /etc/mkinitcpio.conf
  ```

  åœ¨HOOKSé‡Œæ·»åŠ ```grub-btrfs-overlayfs```

  ```
  HOOKS= ( ...... grub-btrfs-overlayfs )
  ```

  é‡æ–°ç”Ÿæˆinitramfs

  ```
  sudo mkinitcpio -P
  ```

  é‡å¯ç”µè„‘

  ```
  reboot
  ```


## flatpak

```
sudo pacman -S gnome-software flatpak
```

```
reboot 
```

```
flatpak remote-add --user --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo
```

## è“ç‰™

```
sudo pacman -S bluez bluez-utils blueman
```

```
sudo systemctl enable --now bluetooth.service
```
æ‰“å¼€å›¾å½¢ç•Œé¢
```
blueman-manager
```
niriè®¾ç½®é¢æ¿ç»„ä»¶å¼€æœºè‡ªå¯
```
spawn-at-startup "blueman-applet"
```


## issuse

é€æ˜çª—å£ä¼šæœ‰èƒŒæ™¯

gtkè½¯ä»¶å†·å¯åŠ¨ç‰¹åˆ«æ…¢

